<openerp>
    <data>
        <!-- Employees form view -->
        <record id="salon_spa_employee_services_view_form" model="ir.ui.view">
            <field name="name">salon.spa.employee.services.view.form</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr.view_employee_form"/>
            <field name="arch" type="xml">
                <field name='active' position='after'>
                    <field name="working_hours" />
                </field>
                <notebook position="inside">
                    <page string="Servicios">
                        <field name="service_ids" colspan="4" nolabel="1"/>
                    </page>
                </notebook>
            </field>
        </record>
        <!-- Product normal form view -->
        <record id="salon_spa_product_normal_form_view" model="ir.ui.view">
            <field name="name">salon.spa.product.normal.form.view</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="product.product_normal_form_view"/>
            <field name="arch" type="xml">
                <field name="list_price" position="after">
                    <field name="product_unit_equivalent" />
                </field>
            </field>
        </record>
        <!-- Supplier Product form view -->
        <record id="salon_spa_product_supplierinfo_form_view" model="ir.ui.view">
            <field name="name">salon.spa.product.supplierinfo.form.view</field>
            <field name="model">product.supplierinfo</field>
            <field name="inherit_id" ref="product.product_supplierinfo_form_view"/>
            <field name="arch" type="xml">
                <field name="delay" position="after">
                    <field name="supplier_unit_equivalent_name" />
                    <field name="supplier_unit_equivalent" />
                </field>
            </field>
        </record>
        <!-- Supplier Product tree view 
        <record id="salon_spa_product_supplierinfo_tree_view" model="ir.ui.view">
            <field name="name">salon.spa.product.supplierinfo.tree.view</field>
            <field name="model">product.supplierinfo</field>
            <field name="inherit_id" ref="product.product_supplierinfo_tree_view"/>
            <field name="arch" type="xml">
                <field name="min_qty" position="after">
                    <field name="supplier_unit_equivalent_name" />
                    <field name="supplier_unit_equivalent" />
                </field>
            </field>
        </record> -->
        <!-- Supplier Product tree view -->
        <record id="salon_spa_product_product_tree_view" model="ir.ui.view">
            <field name="name">salon.spa.product.product.tree.view</field>
            <field name="model">product.product</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="product.product_product_tree_view"/>
            <field name="arch" type="xml">
                <field name="default_code" position="after">
                    <field name="categ_id" />
                </field>
            </field>
        </record>
        <!-- Sale Order tree view -->
        <record id="salon_spa_sale_order_tree_view" model="ir.ui.view">
            <field name="name">salon.spa.sale.order.tree.view</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_order_tree"/>
            <field name="arch" type="xml">
                <field name="name" position="replace">
                </field>
                <field name="partner_id" position="after">
                    <field name="name" />
                </field>
            </field>
        </record>
        <!-- Sale Order search view -->
        <record id="salon_spa_sale_view_sales_order_filter" model="ir.ui.view">
            <field name="name">salon.spa.sale.view.sales.order.filter</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_sales_order_filter"/>
            <field name="arch" type="xml">
                <field name="name" position="after">
                    <field name="date_order" string="Fecha" />
                </field>
            </field>
        </record>
        <!-- Sale Advanced Payment Invoice view -->
        <record id="salon_spa_view_sale_advance_payment_inv" model="ir.ui.view">
            <field name="name">salon.spa.view.sale.advance.payment.inv</field>
            <field name="model">sale.advance.payment.inv</field>
            <field name="inherit_id" ref="sale.view_sale_advance_payment_inv"/>
            <field name="arch" type="xml">
                <field name="advance_payment_method" position="after">
                    <field name="journal_id" class="oe_inline" domain="[('type','in',['cash','bank'])]" />
                    <field name="payment_amount" />
                </field>
                <field name="advance_payment_method" position="replace">
                    <field name="advance_payment_method" class="oe_inline" invisible="1"
                         on_change="onchange_method(advance_payment_method, product_id)"/>
                </field>
            </field>
        </record>


        <!-- Appointment -->
        <!-- Appointment calendar view -->
        <record id="salon_spa_appointment_calendar" model="ir.ui.view">
            <field name="name">salon.spa.appointment.calendar</field>
            <field name="model">salon.spa.appointment</field>
            <field name="type">calendar</field>
            <field name="arch" type="xml">
                <calendar string="Citas" color="category_id" date_start="start" date_delay="duration" mode="day">
                    <field name="client_id" />
                    <field name="service_id" />
                    <field name="space_id" />
                </calendar>
            </field>
        </record>
        <!-- Appointment form view -->
        <record id="salon_spa_appointment_form" model="ir.ui.view">
            <field name="name">salon.spa.appointment.form</field>
            <field name="model">salon.spa.appointment</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Citas" version="7.0">
                    <header>
                        <!-- <field name="state" widget="statusbar" nolabel="1" statusbar_visible="draft,pending,open,done,cancel" clickable="True" /> -->
                        <field name="state" widget="statusbar" nolabel="1" statusbar_visible="draft,pending,open,done,cancel" />
                    </header>
                    <sheet string="Citas">
                        <group col="4">
                            <field name="client_id" />
                            <field name="start" on_change="onchange_appointment_start()" />
                            <field name="service_id" context="{'start_date': start}" on_change="onchange_appointment_service(service_id, context)" />
                            <field name="duration" widget="float_time" />
                            <field name="employee_id" />
                            <field name="space_id" />
                            <field name="price" readonly="1" />
                            <field name="category_id" invisible="True" />
                        </group>
                        <field name='notes' colspan='4' rowspan='8' nolabel='1' placeholder="Notas y Observaciones." />
                        <div class="oe_chatter">
                        </div>
                        <!-- TODO remove extra space at the bottom of the view -->
                    </sheet>
                </form>
            </field>
        </record>
        <!-- Appointment tree view -->
        <record id="salon_spa_appointment_tree" model="ir.ui.view">
            <field name="name">salon.spa.appointment.tree</field>
            <field name="model">salon.spa.appointment</field>
            <field name="arch" type="xml">
                <tree string="Citas">
                    <field name="start" />
                    <field name="duration" widget="float_time" />
                    <field name="client_id" />
                    <field name="employee_id" />
                    <field name="service_id" />
                    <field name="space_id" />
                    <field name="state" />
                    <button name="case_pending" string="En Espera" type="object"
                            states="open" icon="gtk-undo"/>
                    <button name="case_open" string="Confirmar" type="object"
                            states="pending" icon="gtk-jump-to"/>
                    <button name="case_close" string="Concluida" type="object"
                            states="open" icon="gtk-apply"/>
                    <button name="case_cancel" string="Cancel" type="object"
                            states="draft,pending,open" icon="gtk-cancel"/>
                    <button name="case_pending" string="Restaurar" type="object"
                            states="done,cancel" icon="gtk-refresh"/>
                </tree>
            </field>
        </record>

        <!-- Service -->
        <!-- Service form view -->
        <record id="salon_spa_service_form" model="ir.ui.view">
            <field name="name">salon.spa.service.form</field>
            <field name="model">salon.spa.service</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Servicios">
                    <field name="service" on_change="onchange_service_service(service)" />
                    <field name="name" invisible="True" />
                    <field name="duration" widget="float_time" />
                    <field name="categ_id" invisible="True" />
                    <notebook colspan="4">
                        <page string='Instrucciones'>
                            <field name='instructions' colspan='4' nolabel='1' placeholder="Notas y Observaciones." />
                        </page>
                        <page string="Espacios Permitidos">
                            <field name="space_ids" colspan="4" nolabel="1" />
                        </page>
                    </notebook>
                </form>
            </field>
        </record>
        <!-- Service tree view -->
        <record id="salon_spa_service_tree" model="ir.ui.view">
            <field name="name">salon.spa.service.tree</field>
            <field name="model">salon.spa.service</field>
            <field name="arch" type="xml">
                <tree string="Servicios">
                    <field name="service" />
                    <field name="duration" widget="float_time" />
                </tree>
            </field>
        </record>

        <!-- Space-->
        <!-- Space form view -->
        <record id="salon_spa_space_form" model="ir.ui.view">
            <field name="name">salon.spa.space.form</field>
            <field name="model">salon.spa.space</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Espacios">
                    <field name="name" />
                </form>
            </field>
        </record>
        <!-- Space tree view -->
        <record id="salon_spa_space_tree" model="ir.ui.view">
            <field name="name">salon.spa.space.tree</field>
            <field name="model">salon.spa.space</field>
            <field name="arch" type="xml">
                <tree string="Espacios">
                    <field name="name" />
                </tree>
            </field>
        </record>


        <act_window
            id="action_appointment"
            name="Citas"
            res_model="salon.spa.appointment"
            view_type="form"
            view_mode="calendar,tree,form" />
        <act_window
            id="action_checkout"
            name="Caja"
            res_model="sale.order"
            view_type="form"
            view_mode="tree,form" />
        <!--context="{'search_default_date_order': [date_order], 'default_date_order': date_order}" /> -->
        <act_window
            id="action_view_client"
            name="Clientes"
            res_model="res.partner"
            view_type="form"
            view_mode="tree,form" />
        <act_window
            id="action_service"
            name="Servicios"
            res_model="salon.spa.service"
            view_type="form"
            view_mode="tree,form" />
        <act_window
            id="action_space"
            name="Espacios"
            res_model="salon.spa.space"
            view_type="form"
            view_mode="tree,form" />


        <menuitem id="menu_root" name="Salon y Spa" />
            <menuitem id="menu_planning" name="Planificación" parent="menu_root" sequence="1" />
                <menuitem id="menu_appointment" action="action_appointment" parent="menu_planning" sequence="1"/>
                <menuitem id="menu_checkout" action="action_checkout" parent="menu_planning" sequence="2"/>
            <menuitem id="menu_configuration" name="Configuración" parent="menu_root" sequence="2" />
                <menuitem id="menu_view_client" action="action_view_client" parent="menu_configuration" sequence="1" />
                <menuitem id="menu_service" action="action_service" parent="menu_configuration" sequence="2" />
                <menuitem id="menu_space" action="action_space" parent="menu_configuration" sequence="3" />

    </data>
</openerp>
